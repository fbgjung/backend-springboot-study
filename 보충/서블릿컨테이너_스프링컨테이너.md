# 서블릿 컨테이너와 스프링 컨테이너의 협력

## 1. 서블릿 컨테이너
HTTP 요청을 받아서 서블릿으로 전달하고, 서블릿의 응답을 클라이언트로 반환한다.  
서블릿의 생명주기를 관리하며 필터 체인 등을 처리한다.  
Apache, Tomcat, Jetty 등

## 2. 스프링 컨테이너
스프링 애플리케이션의 빈을 관리하며, 의존성주입, AOP 등을 처리한다.  
스프링 MVC에서는 DispatcherServlet을 통해 요청을 받아서 적절한 컨트롤러로 라우팅한다.  
ApplicationContext, WebApplicationContext

## 요청 처리 흐름
1. `웹서버 (Apache, Nginx)`
    - 클라이언트로부터 HTTP 요청을 받는다.
    - 특정포트로 들어오는 요청을 `서블릿 컨테이너`로 전달한다.

2. `서블릿 컨테이너 (Tomcat)`
    - 필터 체인을 통해 요청을 전처리한다.
    - `DispatcherServlet`과 같은 `서블릿`으로 요청을 전달한다.

3. `DispatcherServlet (스프링 프론트 컨트롤러)`
    - 요청을 받아서 핸들러 매핑을 통해 적절한 컨트롤러를 찾는다.
    - Interceptor를 통해 추가 전처리 또는 후처리를 수행한다. 
    - 컨트롤러에서 비즈니스 로직을 처리하고 결과를 반환한다.
    - 뷰 리졸버를 통해 적절한 뷰를 찾아서 렌더링한다.
    - 최종 응답을 `서블릿 컨테이너`로 반환한다.

4. `서블릿 컨테이너`
    - 필터 체인을 통해 응답을 후처리한다.
    - 최종 HTTP 응답을 클라이언트로 반환한다.